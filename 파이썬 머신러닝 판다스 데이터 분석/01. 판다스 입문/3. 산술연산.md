<h2>📌 PART 1. 판다스 입문</h2>
<h3>✓ 산술연산</h3>

**판다스 객체의 산술연산은 내부적으로 3단계 프로세스를 거친다.**<br>
**1. 행/열 인덱스를 기준으로 모든 원소를 정렬한다.**<br>
**2. 동일한 위치에 있는 원소끼리 일대일로 대응시킨다.**<br>
**3. 일대일 대응이 되는 원소끼리 연산을 처리한다. 단, 이때 대응되는 원소가 없으면 NaN으로 처리된다.**<br>

<h4>시리즈 vs 숫자</h4>
시리즈 객체에 어떤 숫자를 더하면 시리즈의 개별 원소에 각각 숫자를 더하고 계산한 결과를 시리즈 객체로 변환한다. 덧셈, 뺄셈, 곱셈, 나눗셈 모두 가능하다.<br>
<br>

```python
시리즈와 숫자 연산: Series객체 + 연산자(+, -, *, /) + 숫자
```
##### <예제1-21> 시리즈를 숫자로 나누기
```python
import pandas as pd

# 딕셔너리 데이터로 판다스 시리즈 만들기 
student1 = pd.Series({'국어': 100, '영어': 80, '수학': 90})
print(student1)
print('\n')

# 학생의 과목별 점수를 200으로 나누기 
percentage = student1 / 200

display(percentage)
```

<h4>시리즈 vs 시리즈</h4>
시리즈와 시리즈 사이에 사칙연산을 처리하는 방법이다. 시리즈의 모든 인덱스에 대하여 같은 인덱스를 가진 원소끼리 계산한다. <br>
<br>

```python
시리즈와 시리즈 연산: Series1 + 연산자(+, -, *, /) + Series2
```
##### <예제1-22> 시리즈 사칙연산
```python
import pandas as pd

# 딕셔너리 데이터로 판다스 시리즈 만들기 
student1 = pd.Series({'국어': 100, '영어': 80, '수학': 90})
student2 = pd.Series({'수학': 80, '국어': 90, '영어': 80})

display(student1)
print('\n')
display(student2)
print('\n')

# 두 학생의 과목별 점수로 사칙연산 수행 
addition = student1 + student2   # 덧셈
subtraction = student1 - student2   # 뺄셈
multiplication = student1 * student2   #곱셈
division = student1 / student2   # 나눗셈
print(type(division))
print('\n')

# 사칙연산 결과를 데이터프레임으로 합치기 (시리즈 -> 데이터프레임)
result = pd.DataFrame([addition, subtraction, multiplication, division], 
                       index=['덧셈', '뺄셈', '곱셈', '나눗셈'])
display(result)
```
연산을 하는 두 시리즈의 원소 개수가 다르거나, 시리즈의 크기가 같더라도 인덱스 값이 다를 수 있다. 이처럼 어느 한쪽에만 인덱스가 존재하고 다른 쪽에는 짝을 지을 수 있는 동일한 인덱스가 없는 경우 정상적으로 연산을 처리할 수 없다. 판다스는 유효한 값이 존재하지 않는다는 의미를 갖는 NaN으로 처리한다. 따라서 연산의 결과 또한 NaN으로 입력된다. <br>
한편 동일한 인덱스가 양쪽에 모두 존재하여 서로 대응되더라도 어느 한 쪽의 데이터 값이 NaN인 경우가 있다. 이때도 연산의 대상인 데이터가 존재하지 않기 때문에 결과는 NaN이 된다 

##### <예제1-23> NaN 값이 있는 시리즈 연산
```python
import pandas as pd
import numpy as np

student1 = pd.Series({'국어':np.nan, '영어': 80, '수학': 90})
student2 = pd.Series({'수학': 80, '국어': 90})

display(student1)
print('\n')
display(student2)
print('\n')

# 두 학생의 과목별 점수로 사칙연산 수행 
addition = student1 + student2   # 덧셈
subtraction = student1 - student2   # 뺄셈
multiplication = student1 * student2   #곱셈
division = student1 / student2   # 나눗셈
print(type(division))
print('\n')

# 사칙연산 결과를 데이터프레임으로 합치기 (시리즈 -> 데이터프레임)
result = pd.DataFrame([addition, subtraction, multiplication, division],
                       index=['덧셈', '뺄셈', '곱셈', '나눗셈'])
display(result)
```

<h4>연산 메소드</h4>
연산에서 객체 사이에 공통 인덱스가 없거나 NaN이 포함된 경우 연산 결과는 NaN으로 반환된다. 이런 상황을 피하려면 연산 메소드에 fill_value 옵션을 설정하여 적용한다. <br>
<br>

```python
연산 메소드 사용(시리즈와 시리즈 덧셈): Series1.add(Series2, fill_value = 0)
```
##### <예제1-24> 연산 메소드 사용 - 시리즈 연산
```python
import pandas as pd
import numpy as np

student1 = pd.Series({'국어':np.nan, '영어': 80, '수학': 90})
student2 = pd.Series({'수학': 80, '국어': 90})

display(student1)
print('\n')
display(student2)
print('\n')

# 두 학생의 과목별 점수로 사칙연산 수행 (연산 메소드 사용)
sr_add = student1.add(student2, fill_value=0)   # 덧셈
sr_sub = student1.sub(student2, fill_value=0)   # 뺄셈
sr_mul = student1.mul(student2, fill_value=0)   # 곱셈
sr_div = student1.div(student2, fill_value=0)   # 나눗셈

# 사칙연산 결과를 데이터프레임으로 합치기 (시리즈 -> 데이터프레임)
result = pd.DataFrame([sr_add, sr_sub, sr_mul, sr_div],
                      index=['덧셈', '뺄셈', '곱셈', '나눗셈'])
                      
result
```

<h4>데이터프레임 vs 숫자</h4>
데이터프레임에 어떤 숫자를 더하면 모든 원소에 숫자를 더한다. 덧셈, 뺄셈, 곱셈, 나눗셈 모두 가능하다. <br>
<br>

```python
데이터프레임과 숫자 연산: DataFrame 객체 + 연산자(+, -, *, /) + 숫자
```
##### <예제1-25> 데이터프레임에 숫자 더하기 
```python
import pandas as pd
import seaborn as sns

# titanic 데이터셋에서 age, fare 2개 열을 선택하여 데이터프레임 만들기
titanic = sns.load_dataset('titanic')
df = titanic.loc[:, ['age', 'fare']]

print(df.head())
print('\n')
print(type(df))
print('\n')

# 데이터프레임에 숫자 10 더하기
addition = df + 10

print(addition.head())
print('\n')
print(type(addition))
```

<h4>데이터프레임 vs 데이터프레임</h4>
각 데이터프레임의 같은 행, 같은 열 위치에 있는 원소끼리 계산한다. 이처럼 동일한 위치의 원소끼리 계산한 결과값을 원래 위치에 다시 입력하여 데이터프레임을 만든다. 데이터프레임 중에서 어느 한쪽에 원소가 존재하지 않거나 NaN이면 연산 결과는 NaN으로 처리된다. <br>
<br>

```python
데이터프레임의 연산자 활용: DataFrame1 + 연산자(+, -, *, /) + DataFrame2
```
##### <예제1-26> 데이터프레임끼리 더하기  
```python
import pandas as pd
import seaborn as sns

# titanic 데이터셋에서 age, fare 2개 열을 선택하여 데이터프레임 만들기
titanic = sns.load_dataset('titanic')
df = titanic.loc[:, ['age', 'fare']]

print(df.tail()) # 마지막 5행 표시 
print('\n')
print(type(df))
print('\n')

# 데이터프레임에 숫자 10 더하기 
addition = df + 10

print(addition.tail()) # 마지막 5행 표시 
print('\n')
print(type(addition))
print('\n')

# 데이터프레임끼리 연산하기(addition - df)
subtraction = addition - df

print(subtraction.tail()) # 마지막 5행 표시 
print('\n')
print(type(subtraction))
```
